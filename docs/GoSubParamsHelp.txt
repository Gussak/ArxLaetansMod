/**
 * tips how to code easily with GoSub params,
 * or "function" auto vars
 * Obs.: this multiline comment is supported at newest TEST branch
 */

>>FUNCtst () {
	Set §«mode 1
	GoSub -p FUNCdoIt §»mode=§«mode £»type="init" ; // §»mode=§«mode expands to §FUNCdoIt«mode=§FUNCtst«mode
	//access the var from FUNCdoIt if it was not reset:
	Set §«mode §FUNCdoIt«mode // this auto creates the var §FUNCtst«mode
	Set @«work @FUNCdoIt«work_OUTPUT // this auto creates the var @FUNCtst«work
	//you can use @FUNCtst«work or @«work while at FUNCtst, it is the same var!
	RETURN;
}

>>FUNCdoIt () {
	//INPUT: <§FUNCdoIt«mode> this is how to access this var outside FUNCdoIt, but here can be just §«mode !
	//INPUT: [£FUNCdoIt«type] this is how to access this var outside FUNCdoIt, but here can be just £«type !
	//OUTPUT: @FUNCdoIt«work_OUTPUT terminating with _OUTPUT is unnecessary, is just to make it clear how to use the var
	if(£«type == "") Set £«type "SomeDefault"
	
	// your code
	Set @«work_OUTPUT 1.23 // is @FUNCdoIt«work_OUTPUT outside FUNCdoIt !
	Set @«target ^hover_1500
	
	timerFUNCdoIt1 -m 1 50 Destroy £FUNCdoIt«target // (*1) when timers are executed, they are not in the call stack context, so the function label "FUNCdoIt" is not known, so it is required to use the full var name £FUNCdoIt«target
	
	//reset the optional params to some default b4 next call
	Set £«type "SomeDefault" // could be just "" tho
	RETURN;
}

